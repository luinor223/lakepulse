# LakePulse Environment Configuration
# Copy this file to .env and customize the values

# =================================================================
# GENERAL SETTINGS
# =================================================================
COMPOSE_PROJECT_NAME=lakepulse
ENVIRONMENT=development

# =================================================================
# POSTGRESQL DATABASE SETTINGS
# =================================================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=wideworldimporters
POSTGRES_USER=user
POSTGRES_PASSWORD=password

# Additional database for Airflow metadata
AIRFLOW_POSTGRES_DB=airflow_metadata
AIRFLOW_POSTGRES_USER=airflow
AIRFLOW_POSTGRES_PASSWORD=airflow123

# =================================================================
# MINIO OBJECT STORAGE SETTINGS
# =================================================================
MINIO_ROOT_USER=minio
MINIO_ROOT_PASSWORD=minio123
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001

# MinIO bucket names
BRONZE_BUCKET=lakepulse-bronze
SILVER_BUCKET=lakepulse-silver
GOLD_BUCKET=lakepulse-gold

# S3 endpoints for applications
S3_ENDPOINT=http://minio:9000
S3_ACCESS_KEY=minio
S3_SECRET_KEY=minio123
S3_BUCKET_REGION=us-east-1

# =================================================================
# APACHE KAFKA SETTINGS
# =================================================================
KAFKA_BROKER_HOST=kafka
KAFKA_BROKER_PORT=9092
KAFKA_ZOOKEEPER_HOST=zookeeper
KAFKA_ZOOKEEPER_PORT=2181

# Kafka topics
KAFKA_TOPIC_PREFIX=lakepulse
CDC_TOPIC_CUSTOMERS=lakepulse.cdc.customers
CDC_TOPIC_ORDERS=lakepulse.cdc.orders
CDC_TOPIC_PRODUCTS=lakepulse.cdc.products

# =================================================================
# APACHE SPARK SETTINGS
# =================================================================
SPARK_USER=spark
SPARK_MASTER_PORT=7077
SPARK_MASTER_WEB_UI_PORT=8080
SPARK_WORKER_WEB_UI_PORT=8081

# Spark resource allocation
SPARK_DRIVER_MEMORY=2g
SPARK_EXECUTOR_MEMORY=2g
SPARK_EXECUTOR_CORES=2
SPARK_EXECUTOR_INSTANCES=2

# Spark SQL warehouse directory
SPARK_SQL_WAREHOUSE_DIR=/opt/spark/spark-warehouse

# =================================================================
# APACHE AIRFLOW SETTINGS
# =================================================================
AIRFLOW_HOME=/opt/airflow
AIRFLOW_WEBSERVER_PORT=8080
AIRFLOW_UID=1000
AIRFLOW_GID=0

# Airflow authentication
AIRFLOW_USERNAME=admin
AIRFLOW_PASSWORD=admin
AIRFLOW_EMAIL=admin@lakepulse.com

# Airflow executor
AIRFLOW_EXECUTOR=LocalExecutor

# =================================================================
# TRINO SETTINGS
# =================================================================
TRINO_COORDINATOR_PORT=8081
TRINO_DISCOVERY_URI=http://trino:8081

# =================================================================
# JUPYTER SETTINGS
# =================================================================
JUPYTER_PORT=8888
JUPYTER_TOKEN=lakepulse2024
JUPYTER_ENABLE_LAB=yes

# =================================================================
# MONITORING & LOGGING
# =================================================================
LOG_LEVEL=INFO
ENABLE_MONITORING=true

# Prometheus settings
PROMETHEUS_PORT=9090

# Grafana settings
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# =================================================================
# PERFORMANCE TUNING
# =================================================================
# Docker resource limits
POSTGRES_MEMORY_LIMIT=1g
MINIO_MEMORY_LIMIT=1g
SPARK_MASTER_MEMORY_LIMIT=2g
SPARK_WORKER_MEMORY_LIMIT=4g
AIRFLOW_MEMORY_LIMIT=2g

# JVM heap sizes
KAFKA_HEAP_OPTS=-Xmx1G -Xms1G
ZOOKEEPER_HEAP_OPTS=-Xmx512M -Xms512M

# =================================================================
# DATA PROCESSING SETTINGS
# =================================================================
# Batch processing settings
BATCH_SIZE=10000
MAX_RECORDS_PER_FILE=1000000

# Streaming settings
STREAM_CHECKPOINT_INTERVAL=10s
STREAM_TRIGGER_INTERVAL=30s

# Data retention settings
BRONZE_RETENTION_DAYS=30
SILVER_RETENTION_DAYS=90
GOLD_RETENTION_DAYS=365

# =================================================================
# DEVELOPMENT SETTINGS
# =================================================================
# Enable debug mode
DEBUG_MODE=false

# Development ports (avoid conflicts)
DEV_POSTGRES_PORT=5432
DEV_MINIO_API_PORT=9000
DEV_MINIO_CONSOLE_PORT=9001
DEV_KAFKA_PORT=9092
DEV_SPARK_UI_PORT=4040
DEV_AIRFLOW_PORT=8080
DEV_TRINO_PORT=8081
DEV_JUPYTER_PORT=8888

# Volume mounts for development
ENABLE_LOCAL_VOLUMES=true
LOCAL_DATA_PATH=./data
LOCAL_LOGS_PATH=./logs
LOCAL_NOTEBOOKS_PATH=./notebooks

# =================================================================
# SECURITY SETTINGS (Development Only)
# =================================================================
# WARNING: These are development settings only!
# Use proper secrets management in production

# SSL/TLS settings
ENABLE_SSL=false
SSL_CERT_PATH=./certs/lakepulse.crt
SSL_KEY_PATH=./certs/lakepulse.key

# Network settings
DOCKER_NETWORK_NAME=lakepulse_network
DOCKER_NETWORK_SUBNET=172.20.0.0/16

# =================================================================
# FEATURE FLAGS
# =================================================================
ENABLE_CDC_SIMULATION=true
ENABLE_DATA_QUALITY_CHECKS=true
ENABLE_REAL_TIME_PROCESSING=true
ENABLE_BATCH_PROCESSING=true
ENABLE_ML_PIPELINES=false

# =================================================================
# CUSTOM APPLICATION SETTINGS
# =================================================================
# Add your custom application-specific environment variables here
APP_NAME=LakePulse
APP_VERSION=1.0.0
APP_ENVIRONMENT=development
